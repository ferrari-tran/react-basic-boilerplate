(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,n){"use strict";function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return p});var r="https://reactnd-books-api.udacity.com",i=localStorage.token;i||(i=localStorage.token=Math.random().toString(36).substr(-8));var s={Accept:"application/json",Authorization:i},c=function(e){return fetch("".concat(r,"/books/").concat(e),{headers:s}).then(function(e){return e.json()}).then(function(e){return e.book})},l=function(){return fetch("".concat(r,"/books"),{headers:s}).then(function(e){return e.json()}).then(function(e){return e.books})},u=function(e,t){return fetch("".concat(r,"/books/").concat(e.id),{method:"PUT",headers:o({},s,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then(function(e){return e.json()})},p=function(e,t){return fetch("".concat(r,"/search"),{method:"POST",headers:o({},s,{"Content-Type":"application/json"}),body:JSON.stringify({query:e,maxResults:t})}).then(function(e){return e.json()}).then(function(e){return e.books})}},,,,,,,,function(e,t,n){(e.exports=n(20)(!1)).push([e.i,"html {\n  box-sizing: border-box;\n}\n*, *:before, *:after {\n  box-sizing: inherit;\n}\nbody {\n  margin: 0;\n  padding: 0;\n  font-family: 'Roboto', sans-serif;\n}\n",""])},function(e,t,n){var o=n(36);(e.exports=n(20)(!1)).push([e.i,"html, body, .root {\n  height: 100%;\n}\nbody {\n  line-height: 1.5;\n}\nbody, .app {\n  background: white;\n}\n\n/* main page */\n\n.list-books-title {\n  padding: 10px 0;\n  background: orange;\n  text-align: center;\n}\n.list-books-title h1 {\n  font-weight: 400;\n  margin: 0;\n  color: white;\n}\n\n.list-books-content {\n  padding: 0 0 80px;\n  flex: 1;\n}\n\n.bookshelf {\n  padding: 0 10px 20px;\n}\n\n@media (min-width: 600px) {\n  .bookshelf {\n    padding: 0 20px 40px;\n  }\n}\n\n.bookshelf-title {\n  border-bottom: 1px solid #dedede;\n}\n.bookshelf-books {\n  text-align: center;\n}\n\n.open-search {\n  position: fixed;\n  right: 25px;\n  bottom: 25px;\n}\n.open-search a {\n  display: block;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: #2e7d32;\n  background-image: url("+o(n(37))+");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 28px;\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n  font-size: 0;\n}\n\n/* search page */\n\n.search-books-bar {\n  position: fixed;\n  width: 100%;\n  top: 0;\n  left: 0;\n  z-index: 5;\n  display: flex;\n  box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 0 6px rgba(0,0,0,0.23);\n  background-color: #FFF;\n}\n.search-books-input-wrapper {\n  flex: 1;\n  background: #e9e;\n}\n.search-books-bar input {\n  width: 100%;\n  padding: 15px 10px;\n  font-size: 1.25em;\n  border: none;\n  outline: none;\n}\n\n.close-search {\n  display: block;\n  top: 20px;\n  left: 15px;\n  width: 50px;\n  height: 53px;\n  background: white;\n  background-image: url("+o(n(38))+");\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: 28px;\n  font-size: 0;\n}\n\n.search-books-results {\n  padding: 80px 10px 20px;\n}\n\n/* books grid */\n\n.books-grid {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n}\n.books-grid li {\n  padding: 10px 15px;\n  text-align: left;\n}\n\n.book {\n  width: 140px;\n}\n.book-title,\n.book-authors {\n  font-size: 0.8em;\n}\n.book-title {\n  margin-top: 10px;\n}\n.book-authors {\n  color: #999;\n}\n\n.book-top {\n  position: relative;\n  height: 200px;\n  display: flex;\n  align-items: flex-end;\n}\n\n.book-shelf-changer {\n  position: absolute;\n  right: 0;\n  bottom: -10px;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background: #60ac5d;\n  background-image: url("+o(n(39))+");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 20px;\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n}\n.book-shelf-changer select {\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  cursor: pointer;\n}\n\n/* book cover */\n\n.book-cover {\n  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n  background: #eee;\n}\n.book-cover-title {\n  padding: 20px 10px 0;\n  text-align: center;\n  font-size: 0.8em;\n}\n",""])},,function(e,t,n){"use strict";var o=n(0),a=n.n(o),r=n(1),i=n.n(r),s=n(8),c=function(e){var t=e.bookId,n=e.shelf,o=e.bookCoverImage,r=e.bookTitle,i=e.bookAuthors,c=e.handleStatusUpdate;return a.a.createElement("div",{className:"book"},a.a.createElement("div",{className:"book-top"},a.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:'url("'.concat(o,'")')}}),a.a.createElement("div",{className:"book-shelf-changer"},a.a.createElement("select",{defaultValue:n,onChange:function(e){c({id:t},e.target.value)}},a.a.createElement("option",{value:"none",disabled:!0},"Move to..."),a.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),a.a.createElement("option",{value:"wantToRead"},"Want to Read"),a.a.createElement("option",{value:"read"},"Read"),a.a.createElement("option",{value:"none"},"None")))),a.a.createElement("div",{className:"book-title"},r),a.a.createElement("div",{className:"book-authors"},i.map(function(e){return a.a.createElement("span",{key:e},e,a.a.createElement("br",null))})),a.a.createElement("div",{className:"book-authors"},a.a.createElement(s.a,{className:"more",to:"/details/".concat(t)},"More...")))};c.propTypes={bookId:i.a.string.isRequired,shelf:i.a.string,bookCoverImage:i.a.string,bookTitle:i.a.string,bookAuthors:i.a.array,handleStatusUpdate:i.a.func.isRequired},c.defaultProps={shelf:"none",bookCoverImage:"",bookTitle:"Title",bookAuthors:["No Authors"]},t.a=c},,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=(n(1),n(8)),i=n(7);n(18);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(p(p(n=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}(this,l(t).call(this,e)))),"state",{book:null}),n.loadBook=n.loadBook.bind(p(p(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["Component"]),function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(t,[{key:"componentDidMount",value:function(){this.loadBook(this.props.match.params.bookId)}},{key:"loadBook",value:function(e){var t=this;i.a(e).then(function(e){return t.setState({book:e})})}},{key:"render",value:function(){var e=this.state.book;return e?a.a.createElement("div",{className:"search-books"},a.a.createElement("div",{className:"search-books-bar"},a.a.createElement(r.a,{className:"close-search",to:"/"},"Close"),a.a.createElement("div",{className:"search-books-input-wrapper"},a.a.createElement("input",{type:"text",name:"searchTerm",value:e.title,readOnly:!0}))),a.a.createElement("div",{className:"bookshelf"},a.a.createElement("h2",{className:"bookshelf-title"},"Â "),a.a.createElement("div",{className:"bookshelf-books"},a.a.createElement("ol",{className:"books-grid"},a.a.createElement("li",null,a.a.createElement("div",{className:"book"},a.a.createElement("div",{className:"book-top"},a.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:'url("'.concat(e.imageLinks.thumbnail,'")')}})),a.a.createElement("div",{className:"book-title"},e.title),a.a.createElement("div",{className:"book-authors"},e.authors.map(function(e){return a.a.createElement("span",{key:e},e,a.a.createElement("br",null))})),a.a.createElement("div",{className:"book-authors"},e.subtitle))))))):a.a.createElement("p",null,"Loading book")}}]),t}();t.default=f},,function(e,t,n){var o=n(15);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0},r=n(21)(o,a);o.locals&&(e.exports=o.locals),e.hot.accept(15,function(){var t=n(15);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,o=0;for(n in e){if(!t||e[n]!==t[n])return!1;o++}for(n in t)o--;return 0===o}(o.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");r(t)}),e.hot.dispose(function(){r()})},,function(e,t,n){var o=n(16);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0},r=n(21)(o,a);o.locals&&(e.exports=o.locals),e.hot.accept(16,function(){var t=n(16);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,o=0;for(n in e){if(!t||e[n]!==t[n])return!1;o++}for(n in t)o--;return 0===o}(o.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");r(t)}),e.hot.dispose(function(){r()})},,function(e,t,n){e.exports=n.p+"bb9363b86b02777d23523851826414e0.svg"},function(e,t,n){e.exports=n.p+"3687aa988bec28f17ae39153db1646c3.svg"},function(e,t,n){e.exports=n.p+"78c6f53b2342643639fe1cbaf171bf47.svg"},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(17),i=n.n(r),s=n(22),c=n(12),l=n(23),u=n.n(l),p=n(7),f=n(1),b=n.n(f),d=n(8),h=n(18);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var k=function(e){var t=e.bookShelfTitle,n=e.books,o=e.handleStatusUpdate;return a.a.createElement("div",{className:"bookshelf"},a.a.createElement("h2",{className:"bookshelf-title"},t),a.a.createElement("div",{className:"bookshelf-books"},a.a.createElement("ol",{className:"books-grid"},n.length>0&&n.map(function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(h.a,m({shelf:e.shelf,bookId:e.id,bookCoverImage:e.imageLinks.thumbnail,bookTitle:e.title,bookAuthors:e.authors,handleStatusUpdate:o},e)))}))))};k.propTypes={bookShelfTitle:b.a.string,books:b.a.array,handleStatusUpdate:b.a.func.isRequired},k.defaultProps={bookShelfTitle:"No title set",books:[]};var y=k,g=function(e){var t=e.books,n=e.handleBookStatusUpdate;return a.a.createElement("div",{className:"list-books"},a.a.createElement("div",{className:"list-books-title"},a.a.createElement("h1",null,"MyReads")),a.a.createElement("div",{className:"list-books-content"},[{name:"Currently Reading",slug:"currentlyReading"},{name:"Want to Read",slug:"wantToRead"},{name:"Read",slug:"read"}].map(function(e){return a.a.createElement(y,{key:e.slug,bookShelfTitle:e.name,books:t.filter(function(t){return t.shelf===e.slug}),handleStatusUpdate:n})})),a.a.createElement("div",{className:"open-search"},a.a.createElement(d.a,{to:"/search"},"Add a book")))};g.propTypes={books:b.a.array,handleBookStatusUpdate:b.a.func.isRequired},g.defaultProps={books:[]};var v=g;function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return N(O(O(n=function(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?O(e):t}(this,(e=w(t)).call.apply(e,[this].concat(a))))),"state",{searchedList:[],query:""}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,o["Component"]),function(e,t,n){t&&E(e.prototype,t),n&&E(e,n)}(t,[{key:"handleSearchUpdate",value:function(e){var t=this,n=e.target.value;this.setState({query:n}),p.c(n,20).then(function(e){for(var n=e,o=t.props.books,a=0;a<n.length;a++)for(var r=0;r<o.length;r++){if(n[a].id===o[r].id){n[a].shelf=o[r].shelf;break}n[a].shelf="none"}t.setState({searchedList:n})})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"search-books"},a.a.createElement("div",{className:"search-books-bar"},a.a.createElement(d.a,{className:"close-search",to:"/"},"Close"),a.a.createElement("div",{className:"search-books-input-wrapper"},a.a.createElement("input",{type:"text",name:"searchTerm",placeholder:"Search by title or author",onChange:function(t){e.handleSearchUpdate(t)},value:this.state.query}))),a.a.createElement("div",{className:"search-books-results"},a.a.createElement(y,{bookShelfTitle:"Search Results",books:this.state.searchedList,handleStatusUpdate:this.props.handleBookStatusUpdate}),a.a.createElement("ol",{className:"books-grid"})))}}]),t}();N(j,"propTypes",{books:b.a.array,handleBookStatusUpdate:b.a.func.isRequired}),N(j,"defaultProps",{books:[]});var P=j;n(31);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var L=u()({loader:function(){return Promise.resolve().then(n.bind(null,31))},loading:function(e){var t=e.isLoading,n=e.pastDelay,o=e.error;return t&&n?a.a.createElement("p",null,"Loading..."):o&&!t?a.a.createElement("p",null,"Error!"):null}}),B=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(C(C(n=function(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?C(e):t}(this,_(t).call(this,e)))),"state",{bookList:[]}),n.loadList=n.loadList.bind(C(C(n))),n.handleBookStatusUpdate=n.handleBookStatusUpdate.bind(C(C(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,a.a.Component),function(e,t,n){t&&R(e.prototype,t),n&&R(e,n)}(t,[{key:"componentDidMount",value:function(){this.loadList()}},{key:"loadList",value:function(){var e=this;p.b().then(function(t){return e.setState({bookList:t})})}},{key:"handleBookStatusUpdate",value:function(e,t){var n=this;p.d(e,t).then(function(e){return e&&n.loadList()})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"app"},a.a.createElement(c.a,{path:"/search",render:function(){return a.a.createElement(P,{handleBookStatusUpdate:e.handleBookStatusUpdate,books:e.state.bookList})}}),a.a.createElement(c.a,{path:"/details/:bookId",component:L}),a.a.createElement(c.a,{path:"/",exact:!0,render:function(){return a.a.createElement(v,{handleBookStatusUpdate:e.handleBookStatusUpdate,books:e.state.bookList})}}))}}]),t}();n(33),n(35);i.a.render(a.a.createElement(s.a,null,a.a.createElement(B,null)),document.getElementById("root"))}],[[40,1,2]]]);